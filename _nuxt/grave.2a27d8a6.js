import w from"./ContentRenderer.a2f77137.js";import{_ as D}from"./nuxt-picture.c89f0657.js";import{_ as $}from"./CardRows.vue.b9dd8fea.js";import{_ as B}from"./Gallery.vue.ab3d238a.js";import{f as N,G as V,g as q,ab as R,c as a,a as t,t as c,s,b as l,ac as r,w as _,K as f,o as n,O as z,d as x}from"./entry.e15fab77.js";import{u as A}from"./asyncData.768449c8.js";import{u as G}from"./head.3ac96410.js";import"./ContentRendererMarkdown.vue.11c5e8aa.js";import"./nuxt-link.f7d33f9f.js";const O={class:"container text-center"},E=t("br",null,null,-1),H={key:0},I=t("h2",{class:"text-center"}," Как найти ",-1),K={class:"container"},P=t("hr",null,null,-1),S={key:1,class:"container"},T=t("h2",{class:"text-center"}," Похоронены ",-1),j={key:0,class:"blockquote"},F=t("br",null,null,-1),J={class:"text-muted"},L={key:2,class:"container"},M=t("hr",null,null,-1),Q=t("h2",{class:"text-center"}," Фотографии ",-1),rt=N({__name:"grave",async setup(U){let i,u;const{page:o}=V(),{path:y,params:v}=q(),p=v.slug[1],d=y.split("/");d.shift();const{data:h}=A("directions",()=>f("",...d).where({title:"Directions",_partial:!0,_type:"markdown"}).findOne(),{lazy:!0}),m=[..."buried"in o.value?o.value.buried:[],...([i,u]=R(()=>f("people").where({grave:p}).find()),i=await i,u(),i)];return G(o),(W,X)=>{const g=w,k=D,b=$,C=B;return n(),a("div",null,[t("div",O,[t("h1",null,c(s(o).title),1),E]),s(h)?(n(),a("div",H,[I,t("div",K,[l(g,{value:s(h)},null,8,["value"])]),P])):r("",!0),m.length?(n(),a("div",S,[T,l(b,{items:m},{image:_(e=>["photos"in e?(n(),z(k,{key:0,src:`/images/${e._path.split("/").slice(-1)}/${e.photos[0].path}`,loading:"lazy"},null,8,["src"])):r("",!0)]),title:_(e=>[x(c(e.title),1)]),text:_(e=>[x(c(e.birthDate)+" - "+c(e.deathDate)+" ",1),"epitaph"in e?(n(),a("blockquote",j,[F,t("small",J,[t("em",null,c(e.epitaph),1)])])):r("",!0)]),_:1})])):r("",!0),"photos"in s(o)?(n(),a("div",L,[M,Q,l(C,{id:s(p),photos:s(o).photos},null,8,["id","photos"])])):r("",!0)])}}});export{rt as default};
